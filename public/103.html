<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PaleBlueYk&#39;s Blog</title>
  <meta name="author" content="PaleBlueYk" />
  
  <meta name="description" content="本篇文章以我所用教务系统为例 由于学校把课表关闭了，所以我现在先爬取的成绩查询 本项目的完整代码地址：Github-zhengfang 首先观察学校官网的地址： 原本的地址是 https://220.167.53.63:95/ 然后变成 https://220.167.53.63:95/(4eggunep4b4jhzfwhk4pva21)/default2.aspx 首先端口使用的95端" />
  
  <meta name="keywords" content="">
  <meta name="baidu-site-verification" content="u4UUwskbhk" />
  <meta name="google-site-verification" content="kAjz9Ic_7Hir1rNUQtXSxTydJTryAv8JMelb2Qvnges" />
  <link rel="shortcut icon" href="https://css0209.cn/img/favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="https://css0209.cn/css/white.css">
  <link rel="stylesheet" href="https://css0209.cn/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://css0209.cn/css/highlight.css">
  <script src="https://css0209.cn/js/heighlight.min.js"></script>
  
  
  
  <script src="https://css0209.cn/js/jQuery.min.js"></script>
  <script src="https://css0209.cn/js/lodash.js"></script>
  <script src="https://css0209.cn/js/baidu.js"></script>
  <link rel="stylesheet" href="https://css0209.cn/css/main.css">
</head>
<body>
  <div class="nav">
  <div class="logoBox">
    <a href="/posts"><img src="/img/logo.png" alt="" class="logo"></a>
  </div>
  <button class="bars" onclick="toggleMenus()"><i class="fa fa-bars" aria-hidden="true"></i></button>
  <ul>
    
    
    <li><a class="linkBox" href="/">Welcome</a></li>
    
    <li><a class="linkBox" href="/posts">Home</a></li>
    
    <li><a class="linkBox" href="/about">About</a></li>
    
    <li><a class="linkBox" href="/tags">Tags</a></li>
    
    <li><a class="linkBox" href="/links">Links</a></li>
    
  </ul>
</div>
<div class="header">
  <div class="subTitle">
    
    芝灵生于幽谷,不以无人而不芳
    
  </div>
  <div class="socials">
    <div class="socialLinks">
      
      
      <a href="mailto:blankyk@css0209.cn" title="envelope-o" target="_blank"><i class="fa fa-envelope-o"
          aria-hidden="true"></i></a>
      
      
      
      <a href="https://github.com/paleBlueYk" title="github-alt" target="_blank"><i class="fa fa-github-alt"
          aria-hidden="true"></i></a>
      
      
      
      <a href="tencent://Message/?Uin=917885215&amp;amp;websiteName=q-zone.qq.com&amp;amp;Menu=yes" title="qq" target="_blank"><i class="fa fa-qq"
          aria-hidden="true"></i></a>
      
      
      
      <a href="https://space.bilibili.com/10061915" title="television" target="_blank"><i class="fa fa-television"
          aria-hidden="true"></i></a>
      
      
    </div>
  </div>
</div>
  <div class="main">
    <div class="postContent">
      <h1>Python3 正方爬虫</h1>
      <small><i class="fa fa-clock-o" aria-hidden="true"></i>2018-08-11
        PaleBlueYk</small>
      <h1 id="本篇文章以我所用教务系统为例">本篇文章以我所用教务系统为例</h1>
<p>由于学校把课表关闭了，所以我现在先爬取的成绩查询 本项目的完整代码地址：<a href="https://github.com/idoctype/zhengfang">Github-zhengfang</a> 首先观察学校官网的地址： <a href="https://img.css0209.cn/2018/08/Xnip2018-08-12_19-57-19.jpg"><img src="https://img.css0209.cn/2018/08/Xnip2018-08-12_19-57-19.jpg" alt=""></a> 原本的地址是 https://220.167.53.63:95/ 然后变成 https://220.167.53.63:95/(4eggunep4b4jhzfwhk4pva21)/default2.aspx 首先端口使用的95端口，95端口是非安全端口，现在的主流浏览器应该是无法访问的，这里我只提供要用到的Chrome的Mac版的解决方案,具体可以参考我的文章 <a href="https://css0209.cn/2018/09/10/251/">Chrome/Firefox非安全端口问题</a> 打开终端复制以下命令，最后的<code>--explicitly-allowed-ports=95</code>中的95就是你想打开的非安全端口号</p>
<p>/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome &ndash;explicitly-allowed-ports=95</p>
<p>然后是<code>(4eggunep4b4jhzfwhk4pva21)</code>中间的这窜数字，刷新几次后发现这个是会变的，也就是不确定的 default2.aspx是登录页面 再来看看NetWork的信息 <a href="https://cloud.css0209.cn/2018/08/8FF2E09F-E9C7-44AC-980E-204355B34118.jpg"><img src="https://cloud.css0209.cn/2018/08/8FF2E09F-E9C7-44AC-980E-204355B34118.jpg" alt=""></a> 在我们访问https://220.167.53.63:95/时进行了以个302跳转，那么在302跳转之前是个什么东西呢？ 我用Burp Suite Professional抓包工具来看看：  <a href="https://cloud.css0209.cn/2018/08/F138B3AB-E6F8-4FFA-92F5-29F5C9744776.jpg"><img src="https://cloud.css0209.cn/2018/08/F138B3AB-E6F8-4FFA-92F5-29F5C9744776.jpg" alt=""></a> 得到上图中的信息然后我们可以发现<code>(bfpyl355aa3owdf50bdgfg55)</code>正好是我们需要的那段随机生成的值，也就是说，我们可以通过先爬取这个页面中的内容获得这个值，我们将这个值命名为token，然后代码如下： （由于这个博客的编辑器比较皮，所以格式可能有点不对，没法输制表符）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">-</span><span style="color:#f92672">*</span><span style="color:#f92672">-</span> coding: UTF<span style="color:#f92672">-</span><span style="color:#ae81ff">8</span> <span style="color:#f92672">-</span><span style="color:#f92672">*</span><span style="color:#f92672">-</span>
    <span style="color:#f92672">import</span> urllib.parse
    <span style="color:#f92672">import</span> requests
    <span style="color:#f92672">import</span> re
    <span style="color:#f92672">import</span> PIL
    <span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
    <span style="color:#f92672">from</span> bs4 <span style="color:#f92672">import</span> BeautifulSoup

    session <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>Session() <span style="color:#75715e"># 初始化session</span>

    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ZF</span>:
     <span style="color:#960050;background-color:#1e0010">初</span><span style="color:#960050;background-color:#1e0010">始</span><span style="color:#960050;background-color:#1e0010">化</span>
         <span style="color:#66d9ef">def</span> __init__(self):
               self<span style="color:#f92672">.</span>url <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">https://220.167.53.63:95/</span><span style="color:#e6db74">&#39;</span> <span style="color:#75715e"># 链接</span>
               s <span style="color:#f92672">=</span> session<span style="color:#f92672">.</span>get(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{}default2.aspx</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>url),allow_redirects<span style="color:#f92672">=</span>False) <span style="color:#75715e"># allow_redirects:重定向；会话，get方法获取页面，防止302重定向</span>
               pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">href=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">/</span><span style="color:#e6db74">\</span><span style="color:#e6db74">((</span><span style="color:#e6db74">\</span><span style="color:#e6db74">w*)</span><span style="color:#e6db74">\</span><span style="color:#e6db74">)</span><span style="color:#e6db74">&#34;</span>) <span style="color:#75715e"># 正则表达式</span>
               token <span style="color:#f92672">=</span> pattern<span style="color:#f92672">.</span>findall(s<span style="color:#f92672">.</span>text) <span style="color:#75715e"># 查询页面中信息，匹配正则表达式并保存到列表token</span>
               self<span style="color:#f92672">.</span>token <span style="color:#f92672">=</span> token[<span style="color:#ae81ff">0</span>] <span style="color:#75715e"># 取出列表中的token,并赋值</span>
               self<span style="color:#f92672">.</span>index_url <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">https://220.167.53.63:95/({})/default2.aspx</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>token) <span style="color:#75715e"># 定义主页地址 </span>
</code></pre></div><p>接下来我们登录观察并获取信息： [](<a href="https://www.css0209.cn/wp-content/uploads/2018/08/9F85AC9C-3E51-4AB2-B82A-0288A1C7A618-300x169.jpg)%5B!%5B%5D(https://cloud.css0209.cn/2018/08/9F85AC9C-3E51-4AB2-B82A-0288A1C7A618.jpg)%5D(https://cloud.css0209.cn/2018/08/9F85AC9C-3E51-4AB2-B82A-0288A1C7A618-300x169.jpg">https://www.css0209.cn/wp-content/uploads/2018/08/9F85AC9C-3E51-4AB2-B82A-0288A1C7A618-300x169.jpg)[![](https://cloud.css0209.cn/2018/08/9F85AC9C-3E51-4AB2-B82A-0288A1C7A618.jpg)](https://cloud.css0209.cn/2018/08/9F85AC9C-3E51-4AB2-B82A-0288A1C7A618-300x169.jpg</a>) 通过观察发现url地址的<code>defult2.aspx</code>变成了<code>xs_main.aspx?xh=[学号]</code> 提交的表单信息中有6个值</p>
<h1 id="__viewstate">__VIEWSTATE</h1>
<p>不知道是什么东西，但是会变，猜测和<code>csrf</code>类似</p>
<table>
<thead>
<tr>
<th>值</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>TextBox1</td>
<td>学号</td>
</tr>
<tr>
<td>TextBox2</td>
<td>密码</td>
</tr>
<tr>
<td>TextBox3</td>
<td>验证码</td>
</tr>
<tr>
<td>RadioButtonList1</td>
<td>登录页面学生的那个选框</td>
</tr>
<tr>
<td>Button1</td>
<td>永远都是空白</td>
</tr>
</tbody>
</table>
<p>学号，密码，可以通过用户输入得到 <code>Button1</code>,和<code>RadioButtonList1</code>的值是固定的，而且<code>RadioButtonList1</code>如果在表单中不存在就会默认为学生选项 也就是说我们只需要解决验证码和<code>__VIEWSTATE</code>的值</p>
<p>回到登录页面观察form表单 [](<a href="https://cloud.css0209.cn/2018/08/BD67EEAA-9F8A-4362-B9D2-9C34CB854145-300x163.jpg)%5B!%5B%5D(https://cloud.css0209.cn/2018/08/BD67EEAA-9F8A-4362-B9D2-9C34CB854145.jpg)%5D(https://cloud.css0209.cn/2018/08/BD67EEAA-9F8A-4362-B9D2-9C34CB854145-300x163.jpg">https://cloud.css0209.cn/2018/08/BD67EEAA-9F8A-4362-B9D2-9C34CB854145-300x163.jpg)[![](https://cloud.css0209.cn/2018/08/BD67EEAA-9F8A-4362-B9D2-9C34CB854145.jpg)](https://cloud.css0209.cn/2018/08/BD67EEAA-9F8A-4362-B9D2-9C34CB854145-300x163.jpg</a>) 很快便可以发现在form标签后面紧跟了一个input标签里面的value就是我们要的__VIEWSTATE的值 那么代码如下:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#75715e"># -*- coding: UTF-8 -*-</span>
<span style="color:#f92672">import</span> urllib.parse
<span style="color:#f92672">import</span> requests
<span style="color:#f92672">import</span> re
<span style="color:#f92672">import</span> PIL
<span style="color:#f92672">from</span> PIL <span style="color:#66d9ef">import</span> Image
<span style="color:#f92672">from</span> bs4 <span style="color:#66d9ef">import</span> BeautifulSoup

session <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>Session()  <span style="color:#75715e"># 初始化session</span>


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ZF</span>:
    <span style="color:#75715e"># 初始化</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self):
        self<span style="color:#f92672">.</span>url <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">http://220.167.53.63:95/</span><span style="color:#e6db74">&#39;</span>  <span style="color:#75715e"># 链接</span>
        s <span style="color:#f92672">=</span> session<span style="color:#f92672">.</span>get(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">default2.aspx</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>url),
                        allow_redirects<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)  <span style="color:#75715e"># allow_redirects:重定向；会话，get方法获取页面，防止302重定向</span>
        pattern <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">href=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">/</span><span style="color:#e6db74">\</span><span style="color:#e6db74">((</span><span style="color:#e6db74">\</span><span style="color:#e6db74">w*)</span><span style="color:#e6db74">\</span><span style="color:#e6db74">)</span><span style="color:#e6db74">&#34;</span>)  <span style="color:#75715e"># 正则表达式</span>
        token <span style="color:#f92672">=</span> pattern<span style="color:#f92672">.</span>findall(s<span style="color:#f92672">.</span>text)  <span style="color:#75715e"># 查询页面中信息，匹配正则表达式并保存到列表token</span>
        self<span style="color:#f92672">.</span>token <span style="color:#f92672">=</span> token[<span style="color:#ae81ff">0</span>]  <span style="color:#75715e"># 取出列表中的token,并赋值</span>
        self<span style="color:#f92672">.</span>index_url <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">http://220.167.53.63:95/(</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">)/default2.aspx</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>token)  <span style="color:#75715e"># 定义主页地址</span>
        <span style="color:#75715e"># requests过去页面信息</span>
        r <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(self<span style="color:#f92672">.</span>index_url)
        r<span style="color:#f92672">.</span>encoding <span style="color:#f92672">=</span> r<span style="color:#f92672">.</span>apparent_encoding
        <span style="color:#75715e"># beautifulsoup格式化内容，用lxml解析</span>
        soup <span style="color:#f92672">=</span> BeautifulSoup(r<span style="color:#f92672">.</span>text, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">lxml</span><span style="color:#e6db74">&#39;</span>)
        <span style="color:#75715e"># 从页面中获取__VIEWSTATE</span>
        self<span style="color:#f92672">.</span>__VIEWSTATE <span style="color:#f92672">=</span> soup<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">input[name=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">__VIEWSTATE</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">]</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>get(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">value</span><span style="color:#e6db74">&#34;</span>)
        <span style="color:#75715e"># 学号和密码</span>
        <span style="color:#75715e"># self.user = &#39;&#39;</span>
        <span style="color:#75715e"># self.pwd = &#39;&#39;</span>
        self<span style="color:#f92672">.</span>user <span style="color:#f92672">=</span> input(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">请输入学号：</span><span style="color:#e6db74">&#34;</span>)
        self<span style="color:#f92672">.</span>pwd <span style="color:#f92672">=</span> input(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">请输入密码：</span><span style="color:#e6db74">&#34;</span>)
</code></pre></div><h1 id="验证码">验证码</h1>
<p>验证码获取很简单: 直接鼠标右键复制图片链接，复制下来会发现就是<code>default2.aspx</code>变成了<code>CheckCode.aspx</code> <img src="https://cloud.css0209.cn/2018/08/F0696265-FDA9-49E9-A2EA-D9B041B8687E.jpg" alt=""> 那么我们只需要把验证码以二进制的形式下载下来，需要的时候调用，能打开显示就行 代码如下:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#75715e"># 获取验证码图片并保存至本地，再打开</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">captchas</span>(self):
        <span style="color:#66d9ef">try</span>:
            url <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">https://220.167.53.63:95/(</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">)/CheckCode.aspx</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>token)  <span style="color:#75715e"># 验证码图片地址</span>
            img_r <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url)  <span style="color:#75715e"># 获取验证码图片</span>
            <span style="color:#75715e"># 以二进制保存至本地</span>
            <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">./img/captcha.jpg</span><span style="color:#e6db74">&#39;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">wb</span><span style="color:#e6db74">&#39;</span>) <span style="color:#66d9ef">as</span> f:
                f<span style="color:#f92672">.</span>write(img_r<span style="color:#f92672">.</span>content)
            <span style="color:#75715e"># 利用PIL打开图片</span>
            PIL<span style="color:#f92672">.</span>Image<span style="color:#f92672">.</span>open(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">./img/captcha.jpg</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>show()
            <span style="color:#75715e"># 让用户输入验证码</span>
            <span style="color:#66d9ef">return</span> input(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">请输入验证码：</span><span style="color:#e6db74">&#34;</span>)
        <span style="color:#66d9ef">except</span>:
            print(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">error:获取验证码失败</span><span style="color:#e6db74">&#34;</span>) 
</code></pre></div><p>获取了需要的信息，我们就可以进行模拟登陆了，这里我们登录后获取一下用户姓名并URL化，后面会用到:</p>
<h1 id="模拟登陆">模拟登陆</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3">    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">login</span>(self):
        <span style="color:#75715e"># http://220.167.53.63:95/(2gfd5m3bax5l2rigc0yfiofq)/xs_main.aspx?xh=201713013059</span>
        <span style="color:#66d9ef">try</span>:

            url <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">http://220.167.53.63:95/(</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">)/default2.aspx</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>token)  <span style="color:#75715e"># 生成登陆地址</span>
            <span style="color:#75715e"># 用字典保存data</span>
            data <span style="color:#f92672">=</span> {
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">__VIEWSTATE</span><span style="color:#e6db74">&#39;</span>: self<span style="color:#f92672">.</span>__VIEWSTATE,
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">TextBox1</span><span style="color:#e6db74">&#39;</span>: self<span style="color:#f92672">.</span>user,
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">TextBox2</span><span style="color:#e6db74">&#39;</span>: self<span style="color:#f92672">.</span>pwd,
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">TextBox3</span><span style="color:#e6db74">&#39;</span>: self<span style="color:#f92672">.</span>captchas(),
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">Button1</span><span style="color:#e6db74">&#39;</span>: <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">&#39;</span>
            }
            r <span style="color:#f92672">=</span> session<span style="color:#f92672">.</span>post(url, data<span style="color:#f92672">=</span>data)
            r<span style="color:#f92672">.</span>encoding <span style="color:#f92672">=</span> r<span style="color:#f92672">.</span>apparent_encoding  <span style="color:#75715e"># 修改编码为网页编码</span>
            <span style="color:#75715e"># 检查提交后URL中是否含有&#39;xs_main.aspx?xh=&#39;，如果有就表示登陆成功</span>
            <span style="color:#66d9ef">if</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">xs_main.aspx?xh=</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">in</span> r<span style="color:#f92672">.</span>url:
                soup <span style="color:#f92672">=</span> BeautifulSoup(r<span style="color:#f92672">.</span>text, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">lxml</span><span style="color:#e6db74">&#39;</span>)
                print(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">登陆成功</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">欢迎您：</span><span style="color:#e6db74">&#39;</span>, soup<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">.info span#xhxm</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>text)
                <span style="color:#75715e"># 获取姓名</span>
                name <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">同学</span><span style="color:#e6db74">&#39;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">&#39;</span>, soup<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">.info span#xhxm</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>text)
                <span style="color:#75715e"># 将姓名URL化</span>
                xm <span style="color:#f92672">=</span> urllib<span style="color:#f92672">.</span>parse<span style="color:#f92672">.</span>quote(name)
                <span style="color:#66d9ef">return</span> xm
            <span style="color:#66d9ef">else</span>:
                print(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">登陆失败</span><span style="color:#e6db74">&#39;</span>, r<span style="color:#f92672">.</span>url)
        <span style="color:#66d9ef">except</span>:
            print(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">error:登录出错</span><span style="color:#e6db74">&#34;</span>)
</code></pre></div><p>接下来进行一次查询操作 <img src="https://cloud.css0209.cn/2018/08/QQ20180812-183454.png" alt="">
可以看到这个东西<br>
<code>https://220.167.53.63:95/(xg1yk155oifue555urpnb0ng)/xscjcx.aspx?xh=\[学号\]&amp;xm=\[URL化的姓名\]&amp;gnmkdm=N121605</code><br>
这个地址是声明我们从哪里来的，我们可以由拼接生成</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"> <span style="color:#75715e"># 获取URL化后的姓名</span>
            name <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>login()<span style="color:#75715e">#这里是刚刚获取的URL话的名字</span>
            grade_url <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{}({})/xscjcx.aspx?xh={}&amp;xm={}&amp;gnmkdm=N121605</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>url, self<span style="color:#f92672">.</span>token, self<span style="color:#f92672">.</span>user, name)  <span style="color:#75715e"># 生成URL </span>

<span style="color:#960050;background-color:#1e0010">我</span><span style="color:#960050;background-color:#1e0010">们</span><span style="color:#960050;background-color:#1e0010">要</span><span style="color:#960050;background-color:#1e0010">把</span><span style="color:#960050;background-color:#1e0010">这</span><span style="color:#960050;background-color:#1e0010">个</span><span style="color:#960050;background-color:#1e0010">写</span><span style="color:#960050;background-color:#1e0010">入</span>headers<span style="color:#960050;background-color:#1e0010">，</span><span style="color:#960050;background-color:#1e0010">这</span><span style="color:#960050;background-color:#1e0010">里</span><span style="color:#960050;background-color:#1e0010">要</span><span style="color:#960050;background-color:#1e0010">注</span><span style="color:#960050;background-color:#1e0010">意</span><span style="color:#960050;background-color:#1e0010">的</span><span style="color:#960050;background-color:#1e0010">是</span><span style="color:#960050;background-color:#1e0010">这</span><span style="color:#960050;background-color:#1e0010">个</span>headers里Referer是一定要有的

    header <span style="color:#f92672">=</span> {
                    <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Referer</span><span style="color:#e6db74">&#34;</span>: grade_url,  <span style="color:#75715e"># Referer必须有</span>
                    <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">User-Agent</span><span style="color:#e6db74">&#34;</span>: <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36</span><span style="color:#e6db74">&#34;</span>
                }  <span style="color:#75715e"># 生成header </span>
</code></pre></div><p>再来看下我们提交的东西   <img src="https://cloud.css0209.cn/2018/08/QQ20180812-183734.png" alt="">
这一看，妈哟！这么长的什么东西！？ 不要慌，回到之前页面看看 从表单那可以看到这么些东西<br>
<img src="https://cloud.css0209.cn/2018/08/QQ20180812-204015.png" alt="">   可以发现这些值就是我们需要的，那么爬取下来即可</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">    r <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(grade_url, headers<span style="color:#f92672">=</span>header)
                r<span style="color:#f92672">.</span>encoding <span style="color:#f92672">=</span> r<span style="color:#f92672">.</span>apparent_encoding
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;&#34;&#34;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">                r = requests.get(</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{}/{}/xscjcx.aspx?{}</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">.format(self.url, self.token, urllib.parse.urlencode({</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">                    </span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">xh</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">: self.user,</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">                    </span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">xm</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">: info[2],</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">                    </span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">gnmkdm</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">: </span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">N121603</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">                })))</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">                </span><span style="color:#e6db74">&#34;&#34;&#34;</span>
                soup <span style="color:#f92672">=</span> BeautifulSoup(r<span style="color:#f92672">.</span>text, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">lxml</span><span style="color:#e6db74">&#39;</span>)
                <span style="color:#75715e"># 获取表单信息</span>
                __EVENTTARGET <span style="color:#f92672">=</span> soup<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">input[name=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">__EVENTTARGET</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">]</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>get(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">value</span><span style="color:#e6db74">&#34;</span>)
                __EVENTARGUMENT <span style="color:#f92672">=</span> soup<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">input[name=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">__EVENTARGUMENT</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">]</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>get(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">value</span><span style="color:#e6db74">&#34;</span>)
                new__VIEWSTATE <span style="color:#f92672">=</span> soup<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">input[name=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">__VIEWSTATE</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">]</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>get(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">value</span><span style="color:#e6db74">&#34;</span>) 
</code></pre></div><table>
<thead>
<tr>
<th>值</th>
<th>对应的value</th>
</tr>
</thead>
<tbody>
<tr>
<td>那么还有4个值</td>
<td>ddlXN</td>
</tr>
<tr>
<td>表单中的学年</td>
<td>ddlXQ</td>
</tr>
<tr>
<td>表单中的学期</td>
<td>ddl_kcxz</td>
</tr>
<tr>
<td>表单中的课程性质</td>
<td>btn_xq</td>
</tr>
<tr>
<td>点击的哪个按钮，这里我默认用学期成绩按钮</td>
<td></td>
</tr>
</tbody>
</table>
<p>这里的<code>ddlXN</code>和<code>ddlXQ</code>我们让用户来输入 <code>ddl_kcxz</code>设为空和<code>btn_xq</code>为URL化的“学期成绩” 把表单信息存入data</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"> grade_data <span style="color:#f92672">=</span> {
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">__EVENTTARGET</span><span style="color:#e6db74">&#34;</span>: __EVENTTARGET,
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">__EVENTARGUMENT</span><span style="color:#e6db74">&#34;</span>: __EVENTARGUMENT,
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">__VIEWSTATE</span><span style="color:#e6db74">&#34;</span>: new__VIEWSTATE,
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ddlXN</span><span style="color:#e6db74">&#34;</span>: input(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">请输入学年(如：2017-2018):</span><span style="color:#e6db74">&#34;</span>),
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ddlXQ</span><span style="color:#e6db74">&#34;</span>: input(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">请输入学期(如：1):</span><span style="color:#e6db74">&#34;</span>),
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ddl_kcxz</span><span style="color:#e6db74">&#34;</span>: <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&#34;</span>,
                <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">btn_xq</span><span style="color:#e6db74">&#34;</span>: urllib<span style="color:#f92672">.</span>parse<span style="color:#f92672">.</span>quote(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">学期成绩</span><span style="color:#e6db74">&#34;</span>)
            } 
</code></pre></div><p>有了信息后我们进行访问，会获得一些信息,然后我们将这些信息提取出来,然后写入HTML文档里</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">            grade_html <span style="color:#f92672">=</span> session<span style="color:#f92672">.</span>post(grade_url, headers<span style="color:#f92672">=</span>header, data<span style="color:#f92672">=</span>grade_data)
            soup_grade <span style="color:#f92672">=</span> BeautifulSoup(grade_html<span style="color:#f92672">.</span>text, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">lxml</span><span style="color:#e6db74">&#39;</span>)
            title <span style="color:#f92672">=</span> soup_grade<span style="color:#f92672">.</span>select(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">font[size=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">4</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">]</span><span style="color:#e6db74">&#39;</span>)[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>text  <span style="color:#75715e"># 标题</span>
            xh <span style="color:#f92672">=</span> soup_grade<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">span#lbl_xh</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>text  <span style="color:#75715e"># 学号</span>
            xm <span style="color:#f92672">=</span> soup_grade<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">span#lbl_xm</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>text  <span style="color:#75715e"># 姓名</span>
            xy <span style="color:#f92672">=</span> soup_grade<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">span#lbl_xy</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>text  <span style="color:#75715e"># 学院</span>
            zy <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">专业：{}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(soup_grade<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">span#lbl_zymc</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>text)  <span style="color:#75715e"># 专业</span>
            xzb <span style="color:#f92672">=</span> soup_grade<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">span#lbl_xzb</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>text  <span style="color:#75715e"># 行政班</span>
            table <span style="color:#f92672">=</span> soup_grade<span style="color:#f92672">.</span>select_one(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">table#Datagrid1</span><span style="color:#e6db74">&#39;</span>)<span style="color:#f92672">.</span>prettify()  <span style="color:#75715e"># 成绩表</span>
            grade_table <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">datelist</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&#39;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">mdui-table</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&#39;</span>, table)
            grade <span style="color:#f92672">=</span> title <span style="color:#f92672">+</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&lt;br/&gt;</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">+</span> xh <span style="color:#f92672">+</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&lt;br/&gt;</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">+</span> xm <span style="color:#f92672">+</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&lt;br/&gt;</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">+</span> xy <span style="color:#f92672">+</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&lt;br/&gt;</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">+</span> zy <span style="color:#f92672">+</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&lt;br/&gt;</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">+</span> xzb <span style="color:#f92672">+</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&lt;br/&gt;</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">+</span> grade_table
            html <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;&#39;&#39;</span><span style="color:#e6db74">&lt;!doctype html&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">    &lt;html lang=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">zh-cn</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">    &lt;head&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">        &lt;meta charset=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">UTF-8</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">        &lt;meta name=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">viewport</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">              content=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">        &lt;meta http-equiv=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">X-UA-Compatible</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74"> content=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ie=edge</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">        &lt;title&gt;{}同学的成绩单&lt;/title&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">        &lt;link rel=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">stylesheet</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74"> href=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">http://cdnjs.loli.net/ajax/libs/mdui/0.4.1/css/mdui.min.css</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">    &lt;/head&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">    &lt;body&gt;</span><span style="color:#e6db74">
</span><span style="color:#e6db74"></span><span style="color:#e6db74">            </span><span style="color:#e6db74">&#39;&#39;&#39;</span><span style="color:#f92672">.</span>format(urllib<span style="color:#f92672">.</span>parse<span style="color:#f92672">.</span>unquote(name))
            <span style="color:#75715e"># 将内容写入html文件</span>
            <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">./index.html</span><span style="color:#e6db74">&#39;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">a+</span><span style="color:#e6db74">&#39;</span>) <span style="color:#66d9ef">as</span> f:
                f<span style="color:#f92672">.</span>truncate(<span style="color:#ae81ff">0</span>)
                f<span style="color:#f92672">.</span>write(html <span style="color:#f92672">+</span> grade)
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">it</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">s done!</span><span style="color:#e6db74">&#34;</span>)
        <span style="color:#66d9ef">except</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">error:获取成绩单出错</span><span style="color:#e6db74">&#34;</span>)
</code></pre></div><p>完整代码：  <a href="httpw://github.com/idoctype/zhengfang">GitHub</a>
接下来，我想把这个用Django写成web端，但是验证码哪里给卡着了</p>

      <div class="postFooter">
        
        
        <small class="tags">
          <i class="fa fa-tag" aria-hidden="true"></i>Python
        </small>
        
        
      </div>
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-link"><strong>本文链接：</strong> <a href="/103.html" title="Python3 正方爬虫 "
              class="line">Python3 正方爬虫</a></li>
          <li class="post-copyright-license"><strong>版权声明：</strong> 本<span xmlns:dct="http://purl.org/dc/terms/"
              href="http://purl.org/dc/dcmitype/Text" rel="dct:type">作品</span>由<span
              xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">PaleBlueYk</span>采用<a
              rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh">知识共享署名-非商业性使用 4.0
              国际许可协议</a>进行许可。<br />基于<a xmlns:dct="http://purl.org/dc/terms/" href="https://css0209.cn"
              rel="dct:source">PaleBlueYk&#39;s Blog</a>上的作品创作。转载请注明出处！</li>
        </ul>
      </div>
      
      
    </div>
  </div>
  <footer>
  <div class="leftBox">
    <span>Theme Designed by <a href="https://css0209.cn" target="_blank">PaleBlueYk</a></span><br />
    <span>Proudly published with <a href="https://gohugo.io" target="_blank">Hugo</a></span>
  </div>
  <div class="rightBox">
    <span>Copyright © 2020-2020.08 <a href="https://css0209.cn">PaleBlueYk</a> All Rights Reserved</span><br />
    
    <span><a href="http://www.beian.miit.gov.cn/" target="_blank">蜀ICP备17038940号-2</a></span><br />
    
    
    <span>
      <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51010702001557" target="_blank">
        <img class="beian" src="https://css0209.cn/img/beian.png" alt="">川公网安备 51010702001557号
      </a>
    </span>
    
  </div>
</footer>
</body>

<script src="https://css0209.cn/js/list.js"></script>
<script src="https://css0209.cn/js/post.js"></script>