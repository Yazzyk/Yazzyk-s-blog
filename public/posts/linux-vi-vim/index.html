<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yazzyk&#39;s Blog</title>
  <meta name="author" content="Yazzyk" />
  
  <meta name="description" content="参考来自：维基、 菜鸟教程 Vim是从vi发展出来的一个文本编辑器。其代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。和Emacs并列成为类Unix系统用户最喜欢的编辑器。 Vim的" />
  
  <meta name="keywords" content="">
  <meta name="baidu-site-verification" content="code-TtzfDaB45q" />
  <meta name="google-site-verification" content="kAjz9Ic_7Hir1rNUQtXSxTydJTryAv8JMelb2Qvnges" />
  <link rel="shortcut icon" href="https://shroot.dev/img/favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="https://shroot.dev/css/white.css">
  
  
  <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.2.1/css/all.min.css" rel="stylesheet">
  
  
  
  <script src="https://shroot.dev/js/jQuery.min.js" async="async"></script>
  <script src="https://shroot.dev/js/lodash.js" async="async"></script>
  <script src="https://shroot.dev/js/baidu.js" async="async"></script>
  
  <link rel="stylesheet" href="https://shroot.dev/css/main.css">
  
</head>
<body>
  <div class="nav">
  <div class="logoBox">
    <a href="/posts"><img src="/img/logo.png" alt="" class="logo"></a>
  </div>
  
  <ul>
    
    
    <li><a class="linkBox" href="/">欢迎页</a></li>
    
    <li><a class="linkBox" href="/posts">文章</a></li>
    
    <li><a class="linkBox" href="/about">关于我</a></li>
    
    <li><a class="linkBox" href="/tags">分类</a></li>
    
    <li><a class="linkBox" href="/links">友链</a></li>
    
  </ul>
</div>
<div class="header">
  <div class="subTitle">
    
    芝灵生于幽谷,不以无人而不芳
    
  </div>
  <div class="socials">
    <div class="socialLinks">
      
      <a href="mailto:917885215@qq.com" target="_blank"><i class="fa-solid fa-envelope" aria-hidden="true"></i></a>
      
      <a href="https://github.com/Yazzyk" target="_blank"><i class="fa-brands fa-github" aria-hidden="true"></i></a>
      
      <a href="#ZgotmplZ" target="_blank"><i class="fa-brands fa-qq" aria-hidden="true"></i></a>
      
      <a href="https://space.bilibili.com/10061915" target="_blank"><i class="fa-solid fa-tv" aria-hidden="true"></i></a>
      
    </div>
  </div>
</div>
  <div class="main">
    <div class="postContent">
      <h1>Linux Vi/Vim笔记</h1>
      <small><i class="fa fa-clock-o" aria-hidden="true"></i>2018-09-09
        Yazzyk</small>
      <p>参考来自：<a href="https://zh.wikipedia.org/wiki/Vim">维基</a>、 <a href="https://www.runoob.com/linux/linux-vim.html">菜鸟教程</a></p>
<p>  Vim是从vi发展出来的一个文本编辑器。其代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。和Emacs并列成为类Unix系统用户最喜欢的编辑器。 Vim的第一个版本由布莱姆·米勒在1991年发布。最初的简称是Vi IMitation，随着功能的不断增加，正式名称改成了Vi IMproved。现在是在开放源代码方式下发行的自由软件。</p>
<h1 id="vim历史">vim历史</h1>
<p>布莱姆·米勒在80年代末购入他的Amiga计算机时，Amiga上还没有他最常用的编辑器vi。Bram从一个开源的vi复制Stevie开始，开发了Vim的1.0版本。最初的目标只是完全复制vi的功能，那个时候的Vim是Vi IMitation（模拟）的简称。1991年Vim 1.14版被&quot;Fred Fish Disk #591&quot;这个Amiga用的免费软件集所收录了。1992年1.22版本的Vim被移植到了UNIX和MS-DOS上。从那个时候开始，Vim的全名就变成Vi IMproved（改良）了。 在这之后，Vim加入了不计其数的新功能。做为第一个里程碑的是1994年的3.0版本加入了多窗口编辑（分区视窗）模式，可以在同一终端中同时编辑多个文件。1996年发布的Vim 4.0是第一个利用GUI（图形用户界面）的版本。1998年5.0版本的Vim加入了highlight（语法高亮）功能。2001年的Vim 6.0版本加入了代码折叠、插件、多国语言支持、垂直分区视窗等功能。2006 年5月发布的Vim 7.0版更加入了拼字检查、上下文相关补全，标签页编辑等新功能。2008年8月发布的Vim 7.2，合并了Vim 7.1以来的所有修正补丁，并且加入了脚本的浮点数支持。现在最新的版本是Vim 8。</p>
<h1 id="vim键位图">vim键位图</h1>
<p><img src="https://www.runoob.com/wp-content/uploads/2015/10/vi-vim-cheat-sheet-sch.gif" alt=""></p>
<hr>
<h1 id="vim的使用">vim的使用</h1>
<p>vi/vim上分有3种模式，分别为：命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode） 其中：</p>
<h1 id="命令模式">命令模式：</h1>
<p>用户刚刚启动 vi/vim，便进入了命令模式。 此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。 以下是常用的几个命令：</p>
<ul>
<li><code>i</code> 切换到输入模式，以输入字符。</li>
<li><code>x</code> 删除当前光标所在处的字符。</li>
<li><code>:</code> 切换到底线命令模式，以在最底一行输入命令。</li>
</ul>
<p>若想要编辑文本：启动Vim，进入了命令模式，按下i，切换到输入模式。 命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。</p>
<h1 id="输入模式">输入模式：</h1>
<p>在命令模式下按下i就进入了输入模式。 在输入模式中，可以使用以下按键：</p>
<ul>
<li><code>字符按键以及Shift组合</code>，输入字符</li>
<li><code>ENTER</code>，回车键，换行</li>
<li><code>BACK SPACE</code>，退格键，删除光标前一个字符</li>
<li><code>DEL</code>，删除键，删除光标后一个字符</li>
<li><code>方向键</code>，在文本中移动光标</li>
<li><code>HOME</code>/<code>END</code>，移动光标到行首/行尾</li>
<li><code>Page Up</code>/<code>Page Down</code>，上/下翻页</li>
<li><code>Insert</code>，切换光标为输入/替换模式，光标将变成竖线/下划线</li>
<li><code>ESC</code>，退出输入模式，切换到命令模式</li>
</ul>
<h1 id="底线模式">底线模式</h1>
<p>在命令模式下按下:（英文冒号）就进入了底线命令模式。 底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。 在底线命令模式中，基本的命令有（已经省略了冒号）：</p>
<ul>
<li><code>q</code> 退出程序</li>
<li><code>w</code> 保存文件</li>
</ul>
<p>按ESC键可随时退出底线命令模式。 简单的说，我们可以将这三个模式想成底下的图标来表示： <img src="https://www.runoob.com/wp-content/uploads/2014/07/vim-vi-workmodel.png" alt=""></p>
<hr>
<h2 id="按键说明">按键说明</h2>
<h1 id="一般模式可用的光标移动复制粘贴搜索替换等">一般模式可用的光标移动、复制粘贴、搜索替换等</h1>
<h2 id="移动光标的方法">移动光标的方法</h2>
<p><code>h</code> 或 向左箭头键(<code>←</code>):光标向左移动一个字符</p>
<p><code>j</code> 或 向下箭头键(<code>↓</code>):光标向下移动一个字符</p>
<p><code>k</code> 或 向上箭头键(<code>↑</code>):光标向上移动一个字符</p>
<p><code>l</code> 或 向右箭头键(<code>→</code>):光标向右移动一个字符</p>
<p>如果你将右手放在键盘上的话，你会发现 hjkl 是排列在一起的，因此可以使用这四个按钮来移动光标。 如果想要进行多次移动的话，例如向下移动 30 行，可以使用 &ldquo;30j&rdquo; 或 &ldquo;30↓&rdquo; 的组合按键， 亦即加上想要进行的次数(数字)后，按下动作即可！</p>
<p><code>Ctrl</code> + <code>f</code>:屏幕『向下』移动一页，相当于 <code>Page Down</code>按键 (常用)</p>
<p><code>Ctrl</code> + <code>b</code>:屏幕『向上』移动一页，相当于 <code>Page Up</code> 按键 (常用)</p>
<p><code>Ctrl</code> + <code>d</code>:屏幕『向下』移动半页</p>
<p><code>Ctrl</code> + <code>u</code>:屏幕『向上』移动半页</p>
<p><code>+</code>:光标移动到非空格符的下一行</p>
<p><code>-</code>:光标移动到非空格符的上一行</p>
<p><code>n&lt;space&gt;</code>:那个 <code>n</code> 表示『数字』，例如 20 。按下数字后再按空格键，光标会向右移动这一行的 n 个字符。例如 <code>20&lt;space&gt;</code> 则光标会向后面移动 20 个字符距离。</p>
<p><code>0</code> 或功能键<code>Home</code>:这是数字『 0 』：移动到这一行的最前面字符处 (常用)</p>
<p><code>$</code> 或功能键<code>End</code>:移动到这一行的最后面字符处(常用)</p>
<p><code>H</code>:光标移动到这个屏幕的最上方那一行的第一个字符</p>
<p><code>M</code>:光标移动到这个屏幕的中央那一行的第一个字符</p>
<p><code>L</code>:光标移动到这个屏幕的最下方那一行的第一个字符</p>
<p><code>G</code>:移动到这个档案的最后一行(常用)</p>
<p><code>nG</code>:<code>n</code> 为数字。移动到这个档案的第 n 行。例如 <code>20G</code> 则会移动到这个档案的第 20 行(可配合 :set nu)</p>
<p><code>gg</code>:移动到这个档案的第一行，相当于 <code>1G</code> 啊！ (常用)</p>
<p><code>n&lt;Enter&gt;</code>:<code>n</code> 为数字。光标向下移动 <code>n</code> 行(常用)</p>
<h2 id="搜索替换">搜索替换</h2>
<p><code>/word</code>:向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 vbird 这个字符串，就输入 /vbird 即可！ (常用)</p>
<p><code>?word</code>:向光标之上寻找一个字符串名称为 word 的字符串。</p>
<p><code>n</code>:这个 n 是英文按键。代表重复前一个搜寻的动作。举例来说， 如果刚刚我们执行 <code>/vbird</code> 去向下搜寻 <code>vbird</code> 这个字符串，则按下 <code>n</code> 后，会向下继续搜寻下一个名称为 <code>vbird</code> 的字符串。如果是执行 <code>?vbird</code> 的话，那么按下 n 则会向上继续搜寻名称为 vbird 的字符串！</p>
<p><code>N</code>:这个 <code>N</code> 是英文按键。与 <code>n</code> 刚好相反，为『反向』进行前一个搜寻动作。 例如 /vbird 后，按下 N 则表示『向上』搜寻 vbird 。</p>
<p>使用 <code>/word</code> 配合 <code>n</code> 及 <code>N</code> 是非常有帮助的！可以让你重复的找到一些你搜寻的关键词！</p>
<p><code>:n1,n2s/word1/word2/g</code>:<code>n1</code> 与 <code>n2</code> 为数字。在第 <code>n1</code> 与 <code>n2</code> 行之间寻找 <code>word1</code> 这个字符串，并将该字符串取代为 <code>word2</code> ！举例来说，在 100 到 200 行之间搜寻 <code>vbird</code> 并取代为 <code>VBIRD</code> 则： 『:100,200s/vbird/VBIRD/g』。(常用)</p>
<p><code>:1,$s/word1/word2/g</code>:从第一行到最后一行寻找 <code>word1</code> 字符串，并将该字符串取代为 <code>word2</code> ！(常用)</p>
<p><code>:1,$s/word1/word2/gc</code>:从第一行到最后一行寻找 <code>word1</code> 字符串，并将该字符串取代为 <code>word2</code> ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)</p>
<h2 id="删除复制与贴上">删除、复制与贴上</h2>
<p><code>x, X</code>:在一行字当中，<code>x</code> 为向后删除一个字符 (相当于 <code>del</code> 按键)， <code>X</code>为向前删除一个字符(相当于 <code>backspace</code> 亦即是退格键) (常用)</p>
<p><code>nx</code>:<code>n</code> 为数字，连续向后删除 n 个字符。举例来说，我要连续删除 10 个字符， 『10x』。</p>
<p><code>dd</code>:删除游标所在的那一整行(常用)</p>
<p><code>ndd</code>:<code>n</code> 为数字。删除光标所在的向下 n 行，例如 <code>20dd</code> 则是删除 20 行 (常用)</p>
<p><code>d1G</code>:删除光标所在到第一行的所有数据</p>
<p><code>dG</code>:删除光标所在到最后一行的所有数据</p>
<p><code>d$</code>:删除游标所在处，到该行的最后一个字符</p>
<p><code>d0</code>:那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符</p>
<p><code>yy</code>:复制游标所在的那一行(常用)</p>
<p><code>nyy</code>:n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 行(常用)</p>
<p><code>y1G</code>:复制游标所在行到第一行的所有数据</p>
<p><code>yG</code>:复制游标所在行到最后一行的所有数据</p>
<p><code>y0</code>:复制光标所在的那个字符到该行行首的所有数据</p>
<p><code>y$</code>:复制光标所在的那个字符到该行行尾的所有数据</p>
<p><code>p, P</code>:<code>p</code> 为将已复制的数据在光标下一行贴上，<code>P</code> 则为贴在游标上一行！ 举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 <code>p</code> 后， 那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。但如果是按下 P 呢？ 那么原本的第 20 行会被推到变成 30 行。 (常用)</p>
<p><code>J</code>:将光标所在行与下一行的数据结合成同一行</p>
<p><code>c</code>:重复删除多个数据，例如向下删除 10 行，<code>10cj</code></p>
<p><code>u</code>:复原前一个动作。(常用)</p>
<p><code>Ctrl</code>+<code>r</code>:重做上一个动作。(常用)</p>
<p>这个 <code>u</code> 与 <code>Ctrl</code>+<code>r</code>: 是很常用的指令！一个是复原，另一个则是重做一次～ 利用这两个功能按键，你的编辑，嘿嘿！很快乐的啦！</p>
<p><code>.</code>:不要怀疑！这就是小数点！意思是重复前一个动作的意思。 如果你想要重复删除、重复贴上等等动作，按下小数点『.』就好了！ (常用)</p>
<hr>
<h1 id="一般模式切换到编辑模式的可用的按钮说明">一般模式切换到编辑模式的可用的按钮说明</h1>
<p>进入输入或取代的编辑模式</p>
<p>i, I</p>
<p>进入输入模式(Insert mode)： i 为『从目前光标所在处输入』， I 为『在目前所在行的第一个非空格符处开始输入』。 (常用)</p>
<p>a, A</p>
<p>进入输入模式(Insert mode)： a 为『从目前光标所在的下一个字符处开始输入』， A 为『从光标所在行的最后一个字符处开始输入』。(常用)</p>
<p>o, O</p>
<p>进入输入模式(Insert mode)： 这是英文字母 o 的大小写。o 为『在目前光标所在的下一行处输入新的一行』； O 为在目前光标所在处的上一行输入新的一行！(常用)</p>
<p>r, R</p>
<p>进入取代模式(Replace mode)： r 只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下 ESC 为止；(常用)</p>
<p>上面这些按键中，在 vi 画面的左下角处会出现『&ndash;INSERT&ndash;』或『&ndash;REPLACE&ndash;』的字样。 由名称就知道该动作了吧！！特别注意的是，我们上面也提过了，你想要在档案里面输入字符时， 一定要在左下角处看到 INSERT 或 REPLACE 才能输入喔！</p>
<p><code>Esc</code></p>
<p>退出编辑模式，回到一般模式中(常用)</p>
<h1 id="一般模式切换到指令行模式的可用的按钮说明">一般模式切换到指令行模式的可用的按钮说明</h1>
<p>指令行的储存、离开等指令:<code>:w</code></p>
<p>将编辑的数据写入硬盘档案中(常用):<code>:w!</code></p>
<p>若文件属性为『只读』时，强制写入该档案。不过，到底能不能写入， 还是跟你对该档案的档案权限有关啊！:<code>:q</code></p>
<p>离开 vi (常用):<code>:q!</code></p>
<p>若曾修改过档案，又不想储存，使用 <code>!</code> 为强制离开不储存档案。</p>
<p>注意一下啊，那个惊叹号 <code>!</code> 在 vi 当中，常常具有『强制』的意思～</p>
<p><code>:wq</code>:储存后离开，若为 <code>:wq!</code> 则为强制储存后离开 (常用)</p>
<p><code>ZZ</code>:这是大写的 <code>Z</code> 喔！若档案没有更动，则不储存离开，若档案已经被更动过，则储存后离开！</p>
<p><code>:w filename</code>:将编辑的数据储存成另一个档案（类似另存新档）</p>
<p><code>:r filename</code>:在编辑的数据中，读入另一个档案的数据。亦即将 <code>filename</code> 这个档案内容加到游标所在行后面</p>
<p><code>:n1,n2 w filename</code>:将 <code>n1</code> 到 <code>n2</code> 的内容储存成 <code>filename</code> 这个档案。</p>
<p><code>:! command</code>:暂时离开 vi 到指令行模式下执行 command 的显示结果！例如 <code>:! ls /home</code>即可在 vi 当中察看 /home 底下以 ls 输出的档案信息！</p>
<p><code>vim</code>:环境的变更</p>
<p><code>:set nu</code>:显示行号，设定之后，会在每一行的前缀显示该行的行号</p>
<p><code>:set nonu</code> 与 <code>set nu</code> 相反，为取消行号！</p>
<p>特别注意，在 vi/vim 中，数字是很有意义的！数字通常代表重复做几次的意思！ 也有可能是代表去到第几个什么什么的意思。 举例来说，要删除 50 行，则是用 『50dd』 对吧！ 数字加在动作之前，如我要向下移动 20 行呢？那就是『20j』或者是『20↓』即可。</p>

      <div class="postFooter">
        
        
        <small class="tags">
          <i class="fa fa-tag" aria-hidden="true"></i>Linux
        </small>
        
        
      </div>
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-link"><strong>本文链接：</strong> <a href="/posts/linux-vi-vim/" title="Linux Vi/Vim笔记 "
              class="line">Linux Vi/Vim笔记</a></li>
          <li class="post-copyright-license"><strong>版权声明：</strong> 本<span xmlns:dct="http://purl.org/dc/terms/"
              href="http://purl.org/dc/dcmitype/Text" rel="dct:type">作品</span>由<span
              xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Yazzyk</span>采用<a
              rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh">知识共享署名-非商业性使用 4.0
              国际许可协议</a>进行许可。<br />基于<a xmlns:dct="http://purl.org/dc/terms/" href="https://css0209.cn"
              rel="dct:source">Yazzyk&#39;s Blog</a>上的作品创作。转载请注明出处！</li>
        </ul>
      </div>
      
      
    </div>
  </div>
  <footer>
  <div class="leftBox">
    <span>Theme Designed by <a href="https://shroot.dev" target="_blank">Yazzyk</a></span><br />
    <span>Proudly published with <a href="https://gohugo.io" target="_blank">Hugo</a></span>
  </div>
  <div class="rightBox">
    <span>Copyright © 2020-2022.12 <a href="https://shroot.dev">Yazzyk</a> All Rights Reserved</span><br />
    
    
  </div>
</footer>
</body>

<script src="https://shroot.dev/js/list.js"></script>
<script src="https://shroot.dev/js/post.js"></script>